<!doctype html>














<!-- `site.alt_lang` can specify a language different from the UI -->
<html lang="en" >
  <head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta
    name="viewport"
    content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover"
  ><!-- Setup Open Graph image -->

  

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v4.3.4" />
<meta property="og:title" content="json-ld-syntax/issue/436: URI in Profile triggers CORS Unsafe Request Header Byte rule" />
<meta name="author" content="azaroth42" />
<meta property="og:locale" content="en" />
<meta name="description" content="This was discussed during the json-ld meeting on 13 November 2024. &lt;summary&gt;View the transcript&lt;/summary&gt; &lt;h3&gt;Issue Discussion&lt;/h3&gt; &lt;p&gt;bigbluehat: We’re working through the project list.&lt;/p&gt; &lt;p&gt;gkellogg: added issues that are class 1-3.&lt;/p&gt; &lt;p&gt;subtopic &lt;a href=&quot;https://github.com/w3c/json-ld-syntax/issues/436&quot; rel=&quot;noopener noreferrer&quot;&gt;w3c/json-ld-syntax#436&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;gb&gt; &lt;a href=&quot;https://github.com/w3c/json-ld-syntax/issues/436&quot; rel=&quot;noopener noreferrer&quot;&gt;Issue 436&lt;/a&gt; URI in Profile triggers CORS Unsafe Request Header Byte rule (by azaroth42) [spec:w3c] [needs discussion] [tag-needs-resolution]&lt;/p&gt; &lt;p&gt;gkellogg: might just create &quot;tokens&quot; for profile paraemters.&lt;/p&gt; &lt;p&gt;gkellogg: tokens not being namespaced is mitigated by the fact that the media-type is the namespace.&lt;/p&gt; &lt;p&gt;bigbluehat: So, it treats the media-type as the namespace. … Profile parameters not having a colon is wide-reaching&lt;/p&gt; &lt;p&gt;gkellogg: not sure how we update guidance for using profile parameters.&lt;/p&gt; &lt;p&gt;bigbluehat: This would be a breaking change for web annotations. … That would mean web annotations needs their own media type.&lt;/p&gt; &lt;p&gt;niklasl: dlehn’s reply may mean this isn’t as horrible as it seems. … I think the datasets working group has done something with this.&lt;/p&gt; &lt;p&gt;pchampin: This doesn’t seem to be a problem where things can’t work, but making them work is tricky, due to pre-flight requests. … If we expect a server to support profile-based content-negotiation, it doesn’t come automatically. … If you want to support this, you’ll also need to support pre-flight requests.&lt;/p&gt; &lt;p&gt;&lt;bigbluehat&gt; q|&lt;/p&gt; &lt;p&gt;pchampin: This is difficult to configure and easily forgotten.&lt;/p&gt; &lt;p&gt;&lt;gb&gt; &lt;a href=&quot;https://github.com/w3c/json-ld-syntax/issues/436&quot; rel=&quot;noopener noreferrer&quot;&gt;Issue 436&lt;/a&gt; URI in Profile triggers CORS Unsafe Request Header Byte rule (by azaroth42) [spec:w3c] [needs discussion] [tag-needs-resolution]&lt;/p&gt; &lt;p&gt;bigbluehat: There were some suggestions for defining enumerated values (tokens).&lt;/p&gt; &lt;p&gt;&lt;pchampin&gt; I think it wouldn’t hurt to define &quot;short names&quot; for the profiles in addition to the currently defined IRIs&lt;/p&gt; &lt;p&gt;bigbluehat: The key is to not make it a breaking change. … This would affect the media-type registration.&lt;/p&gt; &lt;p&gt;niklasl: Aren’t link headers defined similarly, where there are pre-defined tokens and IRIs may also be used.&lt;/p&gt; &lt;p&gt;bigbluehat: Browsers have made decisions which are affecting what we can do.&lt;/p&gt; &lt;p&gt;&lt;bigbluehat&gt; &gt; When processing the &quot;profile&quot; media type parameter, it is important to note that its value contains one or more URIs and not IRIs. In some cases it might therefore be necessary to convert between IRIs and URIs as specified in section 3 Relationship between IRIs and URIs of [RFC3987].&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;https://www.w3.org/TR/json-ld11/#iana-considerations&quot; rel=&quot;noopener noreferrer&quot;&gt;https://www.w3.org/TR/json-ld11/#iana-considerations&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;niklasl&gt; application/ld+json;profile=&quot;&lt;a href=&quot;http://iiif.io/api/presentation/3/context.json&quot; rel=&quot;noopener noreferrer&quot;&gt;http://iiif.io/api/presentation/3/context.json&lt;/a&gt;&quot;&lt;/p&gt; &lt;p&gt;niklasl: I think it would be good to add tokens. Rob’s specific problem are more about the other uses of profiles. … I wonder if our solution would be considered a solution for the issue; maybe parts of the issue can’t be solved in the JSON-LD spec. Might recommend IIIF to use profile negotiation. … But, using pre-flight does work, so that would be on their end. … It’s more that we put forward the design pattern and it has become more tricky.&lt;/p&gt; &lt;p&gt;bigbluehat: The ramifications of this are not just expand/compact/… Rob’s point is for other specifications that used the same pattern. … No we know to avoid it.&lt;/p&gt; &lt;p&gt;&lt;niklasl&gt; See also: &lt;a href=&quot;https://www.w3.org/TR/dx-prof-conneg/&quot; rel=&quot;noopener noreferrer&quot;&gt;https://www.w3.org/TR/dx-prof-conneg/&lt;/a&gt; (and &lt;a href=&quot;https://profilenegotiation.github.io/I-D-Profile-Negotiation/I-D-Profile-Negotiation.html&quot; rel=&quot;noopener noreferrer&quot;&gt;https://profilenegotiation.github.io/I-D-Profile-Negotiation/I-D-Profile-Negotiation.html&lt;/a&gt; )&lt;/p&gt; &lt;p&gt;bigbluehat: There’s reason to document this in the best-practices document. How this affects other specs would mean that they cannot treat profile as being extensible, and will need a new media type.&lt;/p&gt; &lt;p&gt;gkellogg: we might create a registry to allow other specifications to add their profile parameters without needing a new media-type.&lt;/p&gt; &lt;p&gt;bigbluehat: niklasl shared a document on using the profile parameter for content negotiation.&lt;/p&gt; &lt;p&gt;pchampin: Reaching out the that TAG would be a good idea, as other specs rely on this, and they would be impacted. … I’d like to see their thoughts and how much we should make the effort to try to change this. … Regarding the spec, note that this is a working draft which has been inactive for a while. This might not be the strongest argument to take before the TAG. (The dataset exchange WG) … Part of the reason that spec is stalled is that there are contentious discussions with IETF on where it belongs.&lt;/p&gt; &lt;p&gt;&lt;niklasl&gt; From the dx-prof-conneg draft: During 2018, DXWG members had a longer discussion with the JSON-LD WG at the annual forum TPAC in Lyon, France and it was concluded that the &quot;profile” parameter in the Accept and Content-Type headers should be seen to convey profiles that are specific to the Media Type [such as JSON-LD’s expanded …. ]&lt;/p&gt; &lt;p&gt;pchampin: But, is there enough interest in IETF to continue the work?&lt;/p&gt; &lt;p&gt;niklasl: There are aspects of the draft that goes into the profile parameter of the media type is the right way to go. … The design of IIIF and Activity Streams I appreciate more when not looking at it from an RDF perspective. … These are more useful at the intersection of JSON and RDF, which makes it easier to create specifications in a distributed way. … If I believed (from RDF perspective) that format is irrelevant, general content negotiation works well. … I can see how the TAG might argue from one of these perspectives. Maybe we shouldn’t invent media-types on the fly.&lt;/p&gt; &lt;p&gt;&lt;pchampin&gt; &lt;a href=&quot;https://www.w3.org/TR/vc-data-model-2.0/#media-type-precision&quot; rel=&quot;noopener noreferrer&quot;&gt;https://www.w3.org/TR/vc-data-model-2.0/#media-type-precision&lt;/a&gt;&lt;/p&gt; &lt;p&gt;pchampin: Regarding the value of using JSON-LD media-type with parameter vs a new media-type, VC has had to rely on this for a while. … The current solution is to have a dedicated media-type with additional language to explain the relationship between the two media types. … We might point other specs to that solution.&lt;/p&gt; &lt;p&gt;&lt;niklasl&gt; +1 to mentioning that &quot;third&quot; point of view (very pertinent IMHO)&lt;/p&gt; &lt;p&gt;bigbluehat: I think we need to move on and come back to this issue. … It would be great to write some of these things up on the issue so that we have something coherent to bring to the TAG. … IETF has shifted their approach, and we’re stuck in the middle. In the mean time, if we can collect thoughts in the issue. … I don’t think we know enough to lay out the preferred solution. … If we go the short-name route, we run the risk of turning into a registry.&lt;/p&gt; &lt;p&gt;&lt;bigbluehat&gt; &lt;a href=&quot;https://github.com/w3c/json-ld-syntax/issues/443&quot; rel=&quot;noopener noreferrer&quot;&gt;w3c/json-ld-syntax#443&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;gb&gt; &lt;a href=&quot;https://github.com/w3c/json-ld-syntax/issues/443&quot; rel=&quot;noopener noreferrer&quot;&gt;Issue 443&lt;/a&gt; @protected creates unresolvable conflicts when the same term is defined in two contexts top-level (by trwnh) [spec:editorial] [wr:commenter-agreed-partial] [class-2]&lt;/p&gt; &lt;hr /&gt;" />
<meta property="og:description" content="This was discussed during the json-ld meeting on 13 November 2024. &lt;summary&gt;View the transcript&lt;/summary&gt; &lt;h3&gt;Issue Discussion&lt;/h3&gt; &lt;p&gt;bigbluehat: We’re working through the project list.&lt;/p&gt; &lt;p&gt;gkellogg: added issues that are class 1-3.&lt;/p&gt; &lt;p&gt;subtopic &lt;a href=&quot;https://github.com/w3c/json-ld-syntax/issues/436&quot; rel=&quot;noopener noreferrer&quot;&gt;w3c/json-ld-syntax#436&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;gb&gt; &lt;a href=&quot;https://github.com/w3c/json-ld-syntax/issues/436&quot; rel=&quot;noopener noreferrer&quot;&gt;Issue 436&lt;/a&gt; URI in Profile triggers CORS Unsafe Request Header Byte rule (by azaroth42) [spec:w3c] [needs discussion] [tag-needs-resolution]&lt;/p&gt; &lt;p&gt;gkellogg: might just create &quot;tokens&quot; for profile paraemters.&lt;/p&gt; &lt;p&gt;gkellogg: tokens not being namespaced is mitigated by the fact that the media-type is the namespace.&lt;/p&gt; &lt;p&gt;bigbluehat: So, it treats the media-type as the namespace. … Profile parameters not having a colon is wide-reaching&lt;/p&gt; &lt;p&gt;gkellogg: not sure how we update guidance for using profile parameters.&lt;/p&gt; &lt;p&gt;bigbluehat: This would be a breaking change for web annotations. … That would mean web annotations needs their own media type.&lt;/p&gt; &lt;p&gt;niklasl: dlehn’s reply may mean this isn’t as horrible as it seems. … I think the datasets working group has done something with this.&lt;/p&gt; &lt;p&gt;pchampin: This doesn’t seem to be a problem where things can’t work, but making them work is tricky, due to pre-flight requests. … If we expect a server to support profile-based content-negotiation, it doesn’t come automatically. … If you want to support this, you’ll also need to support pre-flight requests.&lt;/p&gt; &lt;p&gt;&lt;bigbluehat&gt; q|&lt;/p&gt; &lt;p&gt;pchampin: This is difficult to configure and easily forgotten.&lt;/p&gt; &lt;p&gt;&lt;gb&gt; &lt;a href=&quot;https://github.com/w3c/json-ld-syntax/issues/436&quot; rel=&quot;noopener noreferrer&quot;&gt;Issue 436&lt;/a&gt; URI in Profile triggers CORS Unsafe Request Header Byte rule (by azaroth42) [spec:w3c] [needs discussion] [tag-needs-resolution]&lt;/p&gt; &lt;p&gt;bigbluehat: There were some suggestions for defining enumerated values (tokens).&lt;/p&gt; &lt;p&gt;&lt;pchampin&gt; I think it wouldn’t hurt to define &quot;short names&quot; for the profiles in addition to the currently defined IRIs&lt;/p&gt; &lt;p&gt;bigbluehat: The key is to not make it a breaking change. … This would affect the media-type registration.&lt;/p&gt; &lt;p&gt;niklasl: Aren’t link headers defined similarly, where there are pre-defined tokens and IRIs may also be used.&lt;/p&gt; &lt;p&gt;bigbluehat: Browsers have made decisions which are affecting what we can do.&lt;/p&gt; &lt;p&gt;&lt;bigbluehat&gt; &gt; When processing the &quot;profile&quot; media type parameter, it is important to note that its value contains one or more URIs and not IRIs. In some cases it might therefore be necessary to convert between IRIs and URIs as specified in section 3 Relationship between IRIs and URIs of [RFC3987].&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;https://www.w3.org/TR/json-ld11/#iana-considerations&quot; rel=&quot;noopener noreferrer&quot;&gt;https://www.w3.org/TR/json-ld11/#iana-considerations&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;niklasl&gt; application/ld+json;profile=&quot;&lt;a href=&quot;http://iiif.io/api/presentation/3/context.json&quot; rel=&quot;noopener noreferrer&quot;&gt;http://iiif.io/api/presentation/3/context.json&lt;/a&gt;&quot;&lt;/p&gt; &lt;p&gt;niklasl: I think it would be good to add tokens. Rob’s specific problem are more about the other uses of profiles. … I wonder if our solution would be considered a solution for the issue; maybe parts of the issue can’t be solved in the JSON-LD spec. Might recommend IIIF to use profile negotiation. … But, using pre-flight does work, so that would be on their end. … It’s more that we put forward the design pattern and it has become more tricky.&lt;/p&gt; &lt;p&gt;bigbluehat: The ramifications of this are not just expand/compact/… Rob’s point is for other specifications that used the same pattern. … No we know to avoid it.&lt;/p&gt; &lt;p&gt;&lt;niklasl&gt; See also: &lt;a href=&quot;https://www.w3.org/TR/dx-prof-conneg/&quot; rel=&quot;noopener noreferrer&quot;&gt;https://www.w3.org/TR/dx-prof-conneg/&lt;/a&gt; (and &lt;a href=&quot;https://profilenegotiation.github.io/I-D-Profile-Negotiation/I-D-Profile-Negotiation.html&quot; rel=&quot;noopener noreferrer&quot;&gt;https://profilenegotiation.github.io/I-D-Profile-Negotiation/I-D-Profile-Negotiation.html&lt;/a&gt; )&lt;/p&gt; &lt;p&gt;bigbluehat: There’s reason to document this in the best-practices document. How this affects other specs would mean that they cannot treat profile as being extensible, and will need a new media type.&lt;/p&gt; &lt;p&gt;gkellogg: we might create a registry to allow other specifications to add their profile parameters without needing a new media-type.&lt;/p&gt; &lt;p&gt;bigbluehat: niklasl shared a document on using the profile parameter for content negotiation.&lt;/p&gt; &lt;p&gt;pchampin: Reaching out the that TAG would be a good idea, as other specs rely on this, and they would be impacted. … I’d like to see their thoughts and how much we should make the effort to try to change this. … Regarding the spec, note that this is a working draft which has been inactive for a while. This might not be the strongest argument to take before the TAG. (The dataset exchange WG) … Part of the reason that spec is stalled is that there are contentious discussions with IETF on where it belongs.&lt;/p&gt; &lt;p&gt;&lt;niklasl&gt; From the dx-prof-conneg draft: During 2018, DXWG members had a longer discussion with the JSON-LD WG at the annual forum TPAC in Lyon, France and it was concluded that the &quot;profile” parameter in the Accept and Content-Type headers should be seen to convey profiles that are specific to the Media Type [such as JSON-LD’s expanded …. ]&lt;/p&gt; &lt;p&gt;pchampin: But, is there enough interest in IETF to continue the work?&lt;/p&gt; &lt;p&gt;niklasl: There are aspects of the draft that goes into the profile parameter of the media type is the right way to go. … The design of IIIF and Activity Streams I appreciate more when not looking at it from an RDF perspective. … These are more useful at the intersection of JSON and RDF, which makes it easier to create specifications in a distributed way. … If I believed (from RDF perspective) that format is irrelevant, general content negotiation works well. … I can see how the TAG might argue from one of these perspectives. Maybe we shouldn’t invent media-types on the fly.&lt;/p&gt; &lt;p&gt;&lt;pchampin&gt; &lt;a href=&quot;https://www.w3.org/TR/vc-data-model-2.0/#media-type-precision&quot; rel=&quot;noopener noreferrer&quot;&gt;https://www.w3.org/TR/vc-data-model-2.0/#media-type-precision&lt;/a&gt;&lt;/p&gt; &lt;p&gt;pchampin: Regarding the value of using JSON-LD media-type with parameter vs a new media-type, VC has had to rely on this for a while. … The current solution is to have a dedicated media-type with additional language to explain the relationship between the two media types. … We might point other specs to that solution.&lt;/p&gt; &lt;p&gt;&lt;niklasl&gt; +1 to mentioning that &quot;third&quot; point of view (very pertinent IMHO)&lt;/p&gt; &lt;p&gt;bigbluehat: I think we need to move on and come back to this issue. … It would be great to write some of these things up on the issue so that we have something coherent to bring to the TAG. … IETF has shifted their approach, and we’re stuck in the middle. In the mean time, if we can collect thoughts in the issue. … I don’t think we know enough to lay out the preferred solution. … If we go the short-name route, we run the risk of turning into a registry.&lt;/p&gt; &lt;p&gt;&lt;bigbluehat&gt; &lt;a href=&quot;https://github.com/w3c/json-ld-syntax/issues/443&quot; rel=&quot;noopener noreferrer&quot;&gt;w3c/json-ld-syntax#443&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;gb&gt; &lt;a href=&quot;https://github.com/w3c/json-ld-syntax/issues/443&quot; rel=&quot;noopener noreferrer&quot;&gt;Issue 443&lt;/a&gt; @protected creates unresolvable conflicts when the same term is defined in two contexts top-level (by trwnh) [spec:editorial] [wr:commenter-agreed-partial] [class-2]&lt;/p&gt; &lt;hr /&gt;" />
<link rel="canonical" href="/github-discussions/json-ld-syntax/issue/436/" />
<meta property="og:url" content="/github-discussions/json-ld-syntax/issue/436/" />
<meta property="og:site_name" content="Identosphere’s Github Discussions" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2024-06-24T14:08:08-07:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="json-ld-syntax/issue/436: URI in Profile triggers CORS Unsafe Request Header Byte rule" />
<meta name="twitter:site" content="@DecentralizeID" />
<meta name="twitter:creator" content="@azaroth42" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"azaroth42"},"dateModified":"2024-06-24T14:08:08-07:00","datePublished":"2024-06-24T14:08:08-07:00","description":"This was discussed during the json-ld meeting on 13 November 2024. &lt;summary&gt;View the transcript&lt;/summary&gt; &lt;h3&gt;Issue Discussion&lt;/h3&gt; &lt;p&gt;bigbluehat: We’re working through the project list.&lt;/p&gt; &lt;p&gt;gkellogg: added issues that are class 1-3.&lt;/p&gt; &lt;p&gt;subtopic &lt;a href=&quot;https://github.com/w3c/json-ld-syntax/issues/436&quot; rel=&quot;noopener noreferrer&quot;&gt;w3c/json-ld-syntax#436&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;gb&gt; &lt;a href=&quot;https://github.com/w3c/json-ld-syntax/issues/436&quot; rel=&quot;noopener noreferrer&quot;&gt;Issue 436&lt;/a&gt; URI in Profile triggers CORS Unsafe Request Header Byte rule (by azaroth42) [spec:w3c] [needs discussion] [tag-needs-resolution]&lt;/p&gt; &lt;p&gt;gkellogg: might just create &quot;tokens&quot; for profile paraemters.&lt;/p&gt; &lt;p&gt;gkellogg: tokens not being namespaced is mitigated by the fact that the media-type is the namespace.&lt;/p&gt; &lt;p&gt;bigbluehat: So, it treats the media-type as the namespace. … Profile parameters not having a colon is wide-reaching&lt;/p&gt; &lt;p&gt;gkellogg: not sure how we update guidance for using profile parameters.&lt;/p&gt; &lt;p&gt;bigbluehat: This would be a breaking change for web annotations. … That would mean web annotations needs their own media type.&lt;/p&gt; &lt;p&gt;niklasl: dlehn’s reply may mean this isn’t as horrible as it seems. … I think the datasets working group has done something with this.&lt;/p&gt; &lt;p&gt;pchampin: This doesn’t seem to be a problem where things can’t work, but making them work is tricky, due to pre-flight requests. … If we expect a server to support profile-based content-negotiation, it doesn’t come automatically. … If you want to support this, you’ll also need to support pre-flight requests.&lt;/p&gt; &lt;p&gt;&lt;bigbluehat&gt; q|&lt;/p&gt; &lt;p&gt;pchampin: This is difficult to configure and easily forgotten.&lt;/p&gt; &lt;p&gt;&lt;gb&gt; &lt;a href=&quot;https://github.com/w3c/json-ld-syntax/issues/436&quot; rel=&quot;noopener noreferrer&quot;&gt;Issue 436&lt;/a&gt; URI in Profile triggers CORS Unsafe Request Header Byte rule (by azaroth42) [spec:w3c] [needs discussion] [tag-needs-resolution]&lt;/p&gt; &lt;p&gt;bigbluehat: There were some suggestions for defining enumerated values (tokens).&lt;/p&gt; &lt;p&gt;&lt;pchampin&gt; I think it wouldn’t hurt to define &quot;short names&quot; for the profiles in addition to the currently defined IRIs&lt;/p&gt; &lt;p&gt;bigbluehat: The key is to not make it a breaking change. … This would affect the media-type registration.&lt;/p&gt; &lt;p&gt;niklasl: Aren’t link headers defined similarly, where there are pre-defined tokens and IRIs may also be used.&lt;/p&gt; &lt;p&gt;bigbluehat: Browsers have made decisions which are affecting what we can do.&lt;/p&gt; &lt;p&gt;&lt;bigbluehat&gt; &gt; When processing the &quot;profile&quot; media type parameter, it is important to note that its value contains one or more URIs and not IRIs. In some cases it might therefore be necessary to convert between IRIs and URIs as specified in section 3 Relationship between IRIs and URIs of [RFC3987].&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;https://www.w3.org/TR/json-ld11/#iana-considerations&quot; rel=&quot;noopener noreferrer&quot;&gt;https://www.w3.org/TR/json-ld11/#iana-considerations&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;niklasl&gt; application/ld+json;profile=&quot;&lt;a href=&quot;http://iiif.io/api/presentation/3/context.json&quot; rel=&quot;noopener noreferrer&quot;&gt;http://iiif.io/api/presentation/3/context.json&lt;/a&gt;&quot;&lt;/p&gt; &lt;p&gt;niklasl: I think it would be good to add tokens. Rob’s specific problem are more about the other uses of profiles. … I wonder if our solution would be considered a solution for the issue; maybe parts of the issue can’t be solved in the JSON-LD spec. Might recommend IIIF to use profile negotiation. … But, using pre-flight does work, so that would be on their end. … It’s more that we put forward the design pattern and it has become more tricky.&lt;/p&gt; &lt;p&gt;bigbluehat: The ramifications of this are not just expand/compact/… Rob’s point is for other specifications that used the same pattern. … No we know to avoid it.&lt;/p&gt; &lt;p&gt;&lt;niklasl&gt; See also: &lt;a href=&quot;https://www.w3.org/TR/dx-prof-conneg/&quot; rel=&quot;noopener noreferrer&quot;&gt;https://www.w3.org/TR/dx-prof-conneg/&lt;/a&gt; (and &lt;a href=&quot;https://profilenegotiation.github.io/I-D-Profile-Negotiation/I-D-Profile-Negotiation.html&quot; rel=&quot;noopener noreferrer&quot;&gt;https://profilenegotiation.github.io/I-D-Profile-Negotiation/I-D-Profile-Negotiation.html&lt;/a&gt; )&lt;/p&gt; &lt;p&gt;bigbluehat: There’s reason to document this in the best-practices document. How this affects other specs would mean that they cannot treat profile as being extensible, and will need a new media type.&lt;/p&gt; &lt;p&gt;gkellogg: we might create a registry to allow other specifications to add their profile parameters without needing a new media-type.&lt;/p&gt; &lt;p&gt;bigbluehat: niklasl shared a document on using the profile parameter for content negotiation.&lt;/p&gt; &lt;p&gt;pchampin: Reaching out the that TAG would be a good idea, as other specs rely on this, and they would be impacted. … I’d like to see their thoughts and how much we should make the effort to try to change this. … Regarding the spec, note that this is a working draft which has been inactive for a while. This might not be the strongest argument to take before the TAG. (The dataset exchange WG) … Part of the reason that spec is stalled is that there are contentious discussions with IETF on where it belongs.&lt;/p&gt; &lt;p&gt;&lt;niklasl&gt; From the dx-prof-conneg draft: During 2018, DXWG members had a longer discussion with the JSON-LD WG at the annual forum TPAC in Lyon, France and it was concluded that the &quot;profile” parameter in the Accept and Content-Type headers should be seen to convey profiles that are specific to the Media Type [such as JSON-LD’s expanded …. ]&lt;/p&gt; &lt;p&gt;pchampin: But, is there enough interest in IETF to continue the work?&lt;/p&gt; &lt;p&gt;niklasl: There are aspects of the draft that goes into the profile parameter of the media type is the right way to go. … The design of IIIF and Activity Streams I appreciate more when not looking at it from an RDF perspective. … These are more useful at the intersection of JSON and RDF, which makes it easier to create specifications in a distributed way. … If I believed (from RDF perspective) that format is irrelevant, general content negotiation works well. … I can see how the TAG might argue from one of these perspectives. Maybe we shouldn’t invent media-types on the fly.&lt;/p&gt; &lt;p&gt;&lt;pchampin&gt; &lt;a href=&quot;https://www.w3.org/TR/vc-data-model-2.0/#media-type-precision&quot; rel=&quot;noopener noreferrer&quot;&gt;https://www.w3.org/TR/vc-data-model-2.0/#media-type-precision&lt;/a&gt;&lt;/p&gt; &lt;p&gt;pchampin: Regarding the value of using JSON-LD media-type with parameter vs a new media-type, VC has had to rely on this for a while. … The current solution is to have a dedicated media-type with additional language to explain the relationship between the two media types. … We might point other specs to that solution.&lt;/p&gt; &lt;p&gt;&lt;niklasl&gt; +1 to mentioning that &quot;third&quot; point of view (very pertinent IMHO)&lt;/p&gt; &lt;p&gt;bigbluehat: I think we need to move on and come back to this issue. … It would be great to write some of these things up on the issue so that we have something coherent to bring to the TAG. … IETF has shifted their approach, and we’re stuck in the middle. In the mean time, if we can collect thoughts in the issue. … I don’t think we know enough to lay out the preferred solution. … If we go the short-name route, we run the risk of turning into a registry.&lt;/p&gt; &lt;p&gt;&lt;bigbluehat&gt; &lt;a href=&quot;https://github.com/w3c/json-ld-syntax/issues/443&quot; rel=&quot;noopener noreferrer&quot;&gt;w3c/json-ld-syntax#443&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;gb&gt; &lt;a href=&quot;https://github.com/w3c/json-ld-syntax/issues/443&quot; rel=&quot;noopener noreferrer&quot;&gt;Issue 443&lt;/a&gt; @protected creates unresolvable conflicts when the same term is defined in two contexts top-level (by trwnh) [spec:editorial] [wr:commenter-agreed-partial] [class-2]&lt;/p&gt; &lt;hr /&gt;","headline":"json-ld-syntax/issue/436: URI in Profile triggers CORS Unsafe Request Header Byte rule","mainEntityOfPage":{"@type":"WebPage","@id":"/github-discussions/json-ld-syntax/issue/436/"},"url":"/github-discussions/json-ld-syntax/issue/436/"}</script>
<!-- End Jekyll SEO tag -->


  <title>json-ld-syntax/issue/436: URI in Profile triggers CORS Unsafe Request Header Byte rule | Identosphere's Github Discussions
  </title>

  <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://realfavicongenerator.net/
-->



<link rel="apple-touch-icon" sizes="180x180" href="/github-discussions/assets/img/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/github-discussions/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/github-discussions/assets/img/favicons/favicon-16x16.png">

  <link rel="manifest" href="/github-discussions/assets/img/favicons/site.webmanifest">

<link rel="shortcut icon" href="/github-discussions/assets/img/favicons/favicon.ico">
<meta name="apple-mobile-web-app-title" content="Identosphere's Github Discussions">
<meta name="application-name" content="Identosphere's Github Discussions">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/github-discussions/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">


  <!-- Resource Hints -->
  
    
      
        <link rel="preconnect" href="https://fonts.googleapis.com" >
      
        <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
      
    
      
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      
        <link rel="dns-prefetch" href="https://fonts.gstatic.com" >
      
    
      
        <link rel="preconnect" href="https://cdn.jsdelivr.net" >
      
        <link rel="dns-prefetch" href="https://cdn.jsdelivr.net" >
      
    
  

  <!-- Bootstrap -->
  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
  

  <!-- Theme style -->
  <link rel="stylesheet" href="/github-discussions/assets/css/jekyll-theme-chirpy.css">

  <!-- Web Font -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap">

  <!-- Font Awesome Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.6.0/css/all.min.css">

  <!-- 3rd-party Dependencies -->

  

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css">
  

  
    <!-- Image Popup -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css">
  

  <!-- Scripts -->

  
    <script src="/github-discussions/assets/js/dist/theme.min.js"></script>
  

  <!-- JS selector for site. -->

<!-- commons -->



<!-- layout specified -->


  

  
    <!-- image lazy-loading & popup & clipboard -->
    
  















  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  



  <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/en.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js"></script>







<script defer src="/github-discussions/assets/js/dist/post.min.js"></script>



<!-- Pageviews -->

  

  



  

  <!-- A placeholder to allow defining custom metadata -->

</head>


  <body>
    <!-- The Side Bar -->

<aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end">
  <header class="profile-wrapper">
    <a href="/github-discussions/" id="avatar" class="rounded-circle"><img src="/github-discussions/commons/avatar.jpg" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a>

    <a class="site-title d-block" href="/github-discussions/">Identosphere's Github Discussions</a>
    <p class="site-subtitle fst-italic mb-0">keeping track of active discussions on github, related to decentralized id.</p>
  </header>
  <!-- .profile-wrapper -->

  <nav class="flex-column flex-grow-1 w-100 ps-0">
    <ul class="nav">
      <!-- home -->
      <li class="nav-item">
        <a href="/github-discussions/" class="nav-link">
          <i class="fa-fw fas fa-home"></i>
          <span>HOME</span>
        </a>
      </li>
      <!-- the real tabs -->
      
        <li class="nav-item">
          <a href="/github-discussions/categories/" class="nav-link">
            <i class="fa-fw fas fa-stream"></i>
            

            <span>CATEGORIES</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/github-discussions/tags/" class="nav-link">
            <i class="fa-fw fas fa-tags"></i>
            

            <span>TAGS</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/github-discussions/archives/" class="nav-link">
            <i class="fa-fw fas fa-archive"></i>
            

            <span>ARCHIVES</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/github-discussions/about/" class="nav-link">
            <i class="fa-fw fas fa-info-circle"></i>
            

            <span>ABOUT</span>
          </a>
        </li>
        <!-- .nav-item -->
      
    </ul>
  </nav>

  <div class="sidebar-bottom d-flex flex-wrap  align-items-center w-100">
    
      <button type="button" class="btn btn-link nav-link" aria-label="Switch Mode" id="mode-toggle">
        <i class="fas fa-adjust"></i>
      </button>

      
        <span class="icon-border"></span>
      
    

    
      

      
        <a
          href="https://github.com/decentralized-id"
          aria-label="github"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fab fa-github"></i>
        </a>
      
    
      

      
        <a
          href="https://twitter.com/DecentralizeID"
          aria-label="twitter"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fa-brands fa-x-twitter"></i>
        </a>
      
    
      

      
        <a
          href="javascript:location.href = 'mailto:' + ['example','domain.com'].join('@')"
          aria-label="email"
          

          

          

          
        >
          <i class="fas fa-envelope"></i>
        </a>
      
    
      

      
        <a
          href="/github-discussions/feed.xml"
          aria-label="rss"
          

          

          

          
        >
          <i class="fas fa-rss"></i>
        </a>
      
    
  </div>
  <!-- .sidebar-bottom -->
</aside>
<!-- #sidebar -->


    <div id="main-wrapper" class="d-flex justify-content-center">
      <div class="container d-flex flex-column px-xxl-5">
        <!-- The Top Bar -->

<header id="topbar-wrapper" aria-label="Top Bar">
  <div
    id="topbar"
    class="d-flex align-items-center justify-content-between px-lg-3 h-100"
  >
    <nav id="breadcrumb" aria-label="Breadcrumb">
      

      
        
          
            <span>
              <a href="/github-discussions/">Home</a>
            </span>

          
        
          
        
          
        
          
            
              <span>json-ld-syntax/issue/436: URI in Profile triggers CORS Unsafe Request Header Byte rule</span>
            

          
        
      
    </nav>
    <!-- endof #breadcrumb -->

    <button type="button" id="sidebar-trigger" class="btn btn-link">
      <i class="fas fa-bars fa-fw"></i>
    </button>

    <div id="topbar-title">
      Post
    </div>

    <button type="button" id="search-trigger" class="btn btn-link">
      <i class="fas fa-search fa-fw"></i>
    </button>

    <search id="search" class="align-items-center ms-3 ms-lg-0">
      <i class="fas fa-search fa-fw"></i>
      <input
        class="form-control"
        id="search-input"
        type="search"
        aria-label="search"
        autocomplete="off"
        placeholder="Search..."
      >
    </search>
    <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button>
  </div>
</header>


        <div class="row flex-grow-1">
          <main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              <!-- Refactor the HTML structure -->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->



<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->



<!-- Change the icon of checkbox -->



<!-- Handle images -->





<!-- Add header for code snippets -->



<!-- Create heading anchors -->





  
  

  

  
  

  

  
  

  

  
  

  




<!-- return -->










<article class="px-1" data-toc="false">
  <header>
    <h1 data-toc-skip>json-ld-syntax/issue/436: URI in Profile triggers CORS Unsafe Request Header Byte rule</h1>
    

    <div class="post-meta text-muted">
      <!-- published date -->
      <span>
        Posted
        <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1719263288"
  data-df="ll"
  
    data-bs-toggle="tooltip" data-bs-placement="bottom"
  
>
  Jun 24, 2024
</time>

      </span>

      <!-- lastmod date -->
      

      

      <div class="d-flex justify-content-between">
        
          <em>
            <a href="https://github.com/azaroth42">@azaroth42</a>
          </em>
        

        <div>
          <!-- pageviews -->
          

          <!-- read time -->
          <!-- Calculate the post's reading time, and display the word count in tooltip -->



<!-- words per minute -->










<!-- return element -->
<span
  class="readtime"
  data-bs-toggle="tooltip"
  data-bs-placement="bottom"
  title="257 words"
>
  <em>1 min</em> read</span>

        </div>
      </div>
    </div>
  </header>

  

  <div class="content">
    <p>In the IANA registration [1], we define a media type parameter called ‘profile’. Its value is a space separated list of URIs, for which we registered six initial values. These can be composed together, and new values can be added for other “constraints or conventions”.</p>

<p>The IIIF specifications use this functionality, for example to define the specific structure of the response in an API [2] as part of the media type. Similarly in Linked Art, we do the same [3].</p>

<p>However, in the WHATWG specification for fetch [4], it says that the <em>value</em> for the Accept header is NOT CORS safe, if it has more than 128 bytes (which multiple URIs might easily cause) or (more importantly) if the value contains an unsafe header byte. The unsafe header bytes include the character “:” … which prevents <em>any</em> URI or CURIE with a namespace prefix separate by : from being CORS safe.</p>

<p>This means that we cannot use the JSON-LD media type as registered for content negotiation via the <code class="language-plaintext highlighter-rouge">accept</code> header according to the fetch specification, which was much of the rationale for the profile parameter.</p>

<p>To resolve this, either WHATWG would need to change fetch, or W3C/IANA would need to change the definition of the media type and give some registration function for possible <code class="language-plaintext highlighter-rouge">profile</code> values, then all downstream specifications would need to register a safe profile value to use.</p>

<p>I’ve added the tag-needs-resolution label, as I think that’s the level this would need to run up to :(</p>

<p>[1] https://www.w3.org/TR/json-ld11/#iana-considerations
[2] https://iiif.io/api/presentation/3.0/#63-responses 
[3] https://linked.art/api/1.0/json-ld/#introduction
[4] https://fetch.spec.whatwg.org/#ref-for-cors-unsafe-request-header-byte</p>

  </div>

  
      
      
          <h2>Comments</h2>
          
              <div class="comment">
                  <h4><strong><a href="https://github.com/BigBlueHat">@BigBlueHat</a></strong> commented on <mark>2024-11-13</mark></h4>
                  <p>Of note: https://www.w3.org/TR/dx-prof-conneg/</p>

              </div>
          
              <div class="comment">
                  <h4><strong><a href="https://github.com/pchampin">@pchampin</a></strong> commented on <mark>2024-11-13</mark></h4>
                  <p>This was discussed during the <a href="https://www.w3.org/2024/11/13-json-ld-minutes.html#bb35">json-ld meeting on 13 November 2024</a>.  <details>&lt;summary&gt;<i>View the transcript</i>&lt;/summary&gt;  &lt;h3&gt;Issue Discussion&lt;/h3&gt; &lt;p&gt;<cite>bigbluehat:</cite> We’re working through the project list.&lt;/p&gt; &lt;p&gt;<cite>gkellogg:</cite> added issues that are class 1-3.&lt;/p&gt; &lt;p&gt;subtopic <a href="https://github.com/w3c/json-ld-syntax/issues/436" rel="noopener noreferrer">w3c/json-ld-syntax#436</a>&lt;/p&gt; &lt;p&gt;<cite>&lt;gb&gt;</cite> <strong><a href="https://github.com/w3c/json-ld-syntax/issues/436" rel="noopener noreferrer">Issue 436</a></strong> URI in Profile triggers CORS Unsafe Request Header Byte rule (by azaroth42) [spec:w3c] [needs discussion] [tag-needs-resolution]&lt;/p&gt; &lt;p&gt;<cite>gkellogg:</cite> might just create “tokens” for profile paraemters.&lt;/p&gt; &lt;p&gt;<cite>gkellogg:</cite> tokens not being namespaced is mitigated by the fact that the media-type is the namespace.&lt;/p&gt; &lt;p&gt;<cite>bigbluehat:</cite> So, it treats the media-type as the namespace.<br /> <span>… Profile parameters not having a colon is wide-reaching</span>&lt;/p&gt; &lt;p&gt;<cite>gkellogg:</cite> not sure how we update guidance for using profile parameters.&lt;/p&gt; &lt;p&gt;<cite>bigbluehat:</cite> This would be a breaking change for web annotations.<br /> <span>… That would mean web annotations needs their own media type.</span>&lt;/p&gt; &lt;p&gt;<cite>niklasl:</cite> dlehn’s reply may mean this isn’t as horrible as it seems.<br /> <span>… I think the datasets working group has done something with this.</span>&lt;/p&gt; &lt;p&gt;<cite>pchampin:</cite> This doesn’t seem to be a problem where things can’t work, but making them work is tricky, due to pre-flight requests.<br /> <span>… If we expect a server to support profile-based content-negotiation, it doesn’t come automatically.</span><br /> <span>… If you want to support this, you’ll also need to support pre-flight requests.</span>&lt;/p&gt; &lt;p&gt;<cite>&lt;bigbluehat&gt;</cite> q|&lt;/p&gt; &lt;p&gt;<cite>pchampin:</cite> This is difficult to configure and easily forgotten.&lt;/p&gt; &lt;p&gt;<cite>&lt;gb&gt;</cite> <strong><a href="https://github.com/w3c/json-ld-syntax/issues/436" rel="noopener noreferrer">Issue 436</a></strong> URI in Profile triggers CORS Unsafe Request Header Byte rule (by azaroth42) [spec:w3c] [needs discussion] [tag-needs-resolution]&lt;/p&gt; &lt;p&gt;<cite>bigbluehat:</cite> There were some suggestions for defining enumerated values (tokens).&lt;/p&gt; &lt;p&gt;<cite>&lt;pchampin&gt;</cite> I think it wouldn’t hurt to define “short names” for the profiles in addition to the currently defined IRIs&lt;/p&gt; &lt;p&gt;<cite>bigbluehat:</cite> The key is to not make it a breaking change.<br /> <span>… This would affect the media-type registration.</span>&lt;/p&gt; &lt;p&gt;<cite>niklasl:</cite> Aren’t link headers defined similarly, where there are pre-defined tokens and IRIs may also be used.&lt;/p&gt; &lt;p&gt;<cite>bigbluehat:</cite> Browsers have made decisions which are affecting what we can do.&lt;/p&gt; &lt;p&gt;<cite>&lt;bigbluehat&gt;</cite> &gt; When processing the “profile” media type parameter, it is important to note that its value contains one or more URIs and not IRIs. In some cases it might therefore be necessary to convert between IRIs and URIs as specified in section 3 Relationship between IRIs and URIs of [RFC3987].&lt;/p&gt; &lt;p&gt;<a href="https://www.w3.org/TR/json-ld11/#iana-considerations" rel="noopener noreferrer">https://<wbr />www.w3.org/<wbr />TR/<wbr />json-ld11/#iana-considerations</a>&lt;/p&gt; &lt;p&gt;<cite>&lt;niklasl&gt;</cite> application/ld+json;profile=”<a href="http://iiif.io/api/presentation/3/context.json" rel="noopener noreferrer">http://<wbr />iiif.io/<wbr />api/<wbr />presentation/<wbr />3/<wbr />context.json</a>”&lt;/p&gt; &lt;p&gt;<cite>niklasl:</cite> I think it would be good to add tokens. Rob’s specific problem are more about the other uses of profiles.<br /> <span>… I wonder if our solution would be considered a solution for the issue; maybe parts of the issue can’t be solved in the JSON-LD spec. Might recommend IIIF to use profile negotiation.</span><br /> <span>… But, using pre-flight does work, so that would be on their end.</span><br /> <span>… It’s more that we put forward the design pattern and it has become more tricky.</span>&lt;/p&gt; &lt;p&gt;<cite>bigbluehat:</cite> The ramifications of this are not just expand/compact/… Rob’s point is for other specifications that used the same pattern.<br /> <span>… No we know to avoid it.</span>&lt;/p&gt; &lt;p&gt;<cite>&lt;niklasl&gt;</cite> See also: <a href="https://www.w3.org/TR/dx-prof-conneg/" rel="noopener noreferrer">https://<wbr />www.w3.org/<wbr />TR/<wbr />dx-prof-conneg/</a> (and <a href="https://profilenegotiation.github.io/I-D-Profile-Negotiation/I-D-Profile-Negotiation.html" rel="noopener noreferrer">https://<wbr />profilenegotiation.github.io/<wbr />I-D-Profile-Negotiation/<wbr />I-D-Profile-Negotiation.html</a> )&lt;/p&gt; &lt;p&gt;<cite>bigbluehat:</cite> There’s reason to document this in the best-practices document. How this affects other specs would mean that they cannot treat profile as being extensible, and will need a new media type.&lt;/p&gt; &lt;p&gt;<cite>gkellogg:</cite> we might create a registry to allow other specifications to add their profile parameters without needing a new media-type.&lt;/p&gt; &lt;p&gt;<cite>bigbluehat:</cite> niklasl shared a document on using the profile parameter for content negotiation.&lt;/p&gt; &lt;p&gt;<cite>pchampin:</cite> Reaching out the that TAG would be a good idea, as other specs rely on this, and they would be impacted.<br /> <span>… I’d like to see their thoughts and how much we should make the effort to try to change this.</span><br /> <span>… Regarding the spec, note that this is a working draft which has been inactive for a while. This might not be the strongest argument to take before the TAG. (The dataset exchange WG)</span><br /> <span>… Part of the reason that spec is stalled is that there are contentious discussions with IETF on where it belongs.</span>&lt;/p&gt; &lt;p&gt;<cite>&lt;niklasl&gt;</cite> From the dx-prof-conneg draft: During 2018, DXWG members had a longer discussion with the JSON-LD WG at the annual forum TPAC in Lyon, France and it was concluded that the “profile” parameter in the Accept and Content-Type headers should be seen to convey profiles that are specific to the Media Type [such as JSON-LD’s expanded  …. ]&lt;/p&gt; &lt;p&gt;<cite>pchampin:</cite> But, is there enough interest in IETF to continue the work?&lt;/p&gt; &lt;p&gt;<cite>niklasl:</cite> There are aspects of the draft that goes into the profile parameter of the media type is the right way to go.<br /> <span>… The design of IIIF and Activity Streams I appreciate more when not looking at it from an RDF perspective.</span><br /> <span>… These are more useful at the intersection of JSON and RDF, which makes it easier to create specifications in a distributed way.</span><br /> <span>… If I believed (from RDF perspective) that format is irrelevant, general content negotiation works well.</span><br /> <span>… I can see how the TAG might argue from one of these perspectives. Maybe we shouldn’t invent media-types on the fly.</span>&lt;/p&gt; &lt;p&gt;<cite>&lt;pchampin&gt;</cite> <a href="https://www.w3.org/TR/vc-data-model-2.0/#media-type-precision" rel="noopener noreferrer">https://<wbr />www.w3.org/<wbr />TR/<wbr />vc-data-model-2.0/#media-type-precision</a>&lt;/p&gt; &lt;p&gt;<cite>pchampin:</cite> Regarding the value of using JSON-LD media-type with parameter vs a new media-type, VC has had to rely on this for a while.<br /> <span>… The current solution is to have a dedicated media-type with additional language to explain the relationship between the two media types.</span><br /> <span>… We might point other specs to that solution.</span>&lt;/p&gt; &lt;p&gt;<cite>&lt;niklasl&gt;</cite> +1 to mentioning that “third” point of view (very pertinent IMHO)&lt;/p&gt; &lt;p&gt;<cite>bigbluehat:</cite> I think we need to move on and come back to this issue.<br /> <span>… It would be great to write some of these things up on the issue so that we have something coherent to bring to the TAG.</span><br /> <span>… IETF has shifted their approach, and we’re stuck in the middle. In the mean time, if we can collect thoughts in the issue.</span><br /> <span>… I don’t think we know enough to lay out the preferred solution.</span><br /> <span>… If we go the short-name route, we run the risk of turning into a registry.</span>&lt;/p&gt; &lt;p&gt;<cite>&lt;bigbluehat&gt;</cite> <a href="https://github.com/w3c/json-ld-syntax/issues/443" rel="noopener noreferrer">w3c/<wbr />json-ld-syntax#443</a>&lt;/p&gt; &lt;p&gt;<cite>&lt;gb&gt;</cite> <strong><a href="https://github.com/w3c/json-ld-syntax/issues/443" rel="noopener noreferrer">Issue 443</a></strong> <code class="language-plaintext highlighter-rouge">@protected</code> creates unresolvable conflicts when the same term is defined in two contexts top-level (by trwnh) [spec:editorial] [wr:commenter-agreed-partial] [class-2]&lt;/p&gt;  &lt;hr /&gt;</details></p>

              </div>
          
      
  

  <div class="post-tail-wrapper text-muted">
    <!-- categories -->
    
      <div class="post-meta mb-3">
        <i class="far fa-folder-open fa-fw me-1"></i>
        
          <a href="/github-discussions/categories/dif/">DIF</a>
        
      </div>
    

    <!-- tags -->
    
      <div class="post-tags">
        <i class="fa fa-tags fa-fw me-1"></i>
        
          <a href="/github-discussions/tags/json-ld-syntax/">json-ld-syntax</a>
        
      </div>
    

    <div
      class="
        post-tail-bottom
        d-flex justify-content-between align-items-center mt-5 pb-2
      "
    >
      <div class="license-wrapper">
        
          

          This post is licensed under 
        <a href="https://creativecommons.org/licenses/by/4.0/">
          CC BY 4.0
        </a>
         by the author.
        
      </div>

      <!-- Post sharing snippet -->

<div class="share-wrapper d-flex align-items-center">
  <span class="share-label text-muted">Share</span>
  <span class="share-icons">
    
    
    

    

      

      <a href="https://twitter.com/intent/tweet?text=json-ld-syntax/issue/436:%20URI%20in%20Profile%20triggers%20CORS%20Unsafe%20Request%20Header%20Byte%20rule%20-%20Identosphere's%20Github%20Discussions&url=%2Fgithub-discussions%2Fjson-ld-syntax%2Fissue%2F436%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter">
        <i class="fa-fw fa-brands fa-square-x-twitter"></i>
      </a>
    

      

      <a href="https://www.facebook.com/sharer/sharer.php?title=json-ld-syntax/issue/436:%20URI%20in%20Profile%20triggers%20CORS%20Unsafe%20Request%20Header%20Byte%20rule%20-%20Identosphere's%20Github%20Discussions&u=%2Fgithub-discussions%2Fjson-ld-syntax%2Fissue%2F436%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook">
        <i class="fa-fw fab fa-facebook-square"></i>
      </a>
    

      

      <a href="https://t.me/share/url?url=%2Fgithub-discussions%2Fjson-ld-syntax%2Fissue%2F436%2F&text=json-ld-syntax/issue/436:%20URI%20in%20Profile%20triggers%20CORS%20Unsafe%20Request%20Header%20Byte%20rule%20-%20Identosphere's%20Github%20Discussions" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram">
        <i class="fa-fw fab fa-telegram"></i>
      </a>
    

    <button
      id="copy-link"
      aria-label="Copy link"
      class="btn small"
      data-bs-toggle="tooltip"
      data-bs-placement="top"
      title="Copy link"
      data-title-succeed="Link copied successfully!"
    >
      <i class="fa-fw fas fa-link pe-none fs-6"></i>
    </button>
  </span>
</div>

    </div>
    <!-- .post-tail-bottom -->
  </div>
  <!-- div.post-tail-wrapper -->
</article>


            
          </main>

          <!-- panel -->
          <aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 mb-5 text-muted">
            <div class="access">
              <!-- Get 5 last posted/updated posts -->














  <section id="access-lastmod">
    <h2 class="panel-heading">Recently Updated</h2>
    <ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2">
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/github-discussions/acapy/issue/3353/">acapy/issue/3353: ACA-Py failing to start, gives KeyError: 'pattern'</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/github-discussions/identus-mediator/issue/382/">identus-mediator/issue/382: Support for subdirectory in SERVICE_ENDPOINTS</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/github-discussions/did-extensions/issue/597/">did-extensions/issue/597: SUPER/META PROPOSAL: Authentication of unique DID Method names: allowing for multiple approaches</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/github-discussions/acapy/pr/3344/">acapy/pr/3344: Restore `--base-wallet-routes` flag functionality</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/github-discussions/webauthn/issue/2211/">webauthn/issue/2211: CR: Need a way to detect "cancel"</a>
        </li>
      
    </ul>
  </section>
  <!-- #access-lastmod -->


              <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">Trending Tags</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/github-discussions/tags/webauthn/">webauthn</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/github-discussions/tags/identus-cloud-agent/">identus-cloud-agent</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/github-discussions/tags/acapy/">acapy</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/github-discussions/tags/did-extensions/">did-extensions</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/github-discussions/tags/identus/">identus</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/github-discussions/tags/aries-acapy-docs/">aries-acapy-docs</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/github-discussions/tags/bbs-signature/">bbs-signature</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/github-discussions/tags/credential-schemas/">credential-schemas</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/github-discussions/tags/dpv/">dpv</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/github-discussions/tags/org/">org</a>
      
    </div>
  </section>


            </div>

            
              
              







            
          </aside>
        </div>

        <div class="row">
          <!-- tail -->
          <div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              
              <!-- Navigation buttons at the bottom of the post. -->

<nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation">
  
  

  
    <a
      href="/github-discussions/credential-schemas/issue/1/"
      class="btn btn-outline-primary"
      aria-label="Older"
    >
      <p>credential-schemas/issue/1: List of Adopters</p>
    </a>
  

  
    <a
      href="/github-discussions/bbs-signature/pr/320/"
      class="btn btn-outline-primary"
      aria-label="Newer"
    >
      <p>bbs-signature/pr/320: chore(deps-dev): Bump ruff from 0.1.15 to 0.3.5 in /rpc</p>
    </a>
  
</nav>

            

            <!-- The Footer -->

<footer
  aria-label="Site Info"
  class="
    d-flex flex-column justify-content-center text-muted
    flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3
  "
>
  <p>©
    <time>2024</time>

    
      <a href="https://twitter.com/username">DecentralizedID</a>.
    

    
      <span
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author."
      >Some rights reserved.</span>
    
  </p>

  <p>Using the <a
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="v7.1.1"
        href="https://github.com/cotes2020/jekyll-theme-chirpy"
        target="_blank"
        rel="noopener"
      >Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>.
  </p>
</footer>

          </div>
        </div>

        <!-- The Search results -->

<div id="search-result-wrapper" class="d-flex justify-content-center d-none">
  <div class="col-11 content">
    <div id="search-hints">
      <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">Trending Tags</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/github-discussions/tags/webauthn/">webauthn</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/github-discussions/tags/identus-cloud-agent/">identus-cloud-agent</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/github-discussions/tags/acapy/">acapy</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/github-discussions/tags/did-extensions/">did-extensions</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/github-discussions/tags/identus/">identus</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/github-discussions/tags/aries-acapy-docs/">aries-acapy-docs</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/github-discussions/tags/bbs-signature/">bbs-signature</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/github-discussions/tags/credential-schemas/">credential-schemas</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/github-discussions/tags/dpv/">dpv</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/github-discussions/tags/org/">org</a>
      
    </div>
  </section>


    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>

      </div>

      <aside aria-label="Scroll to Top">
        <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow">
          <i class="fas fa-angle-up"></i>
        </button>
      </aside>
    </div>

    <div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div>

    
      <aside
  id="notification"
  class="toast"
  role="alert"
  aria-live="assertive"
  aria-atomic="true"
  data-bs-animation="true"
  data-bs-autohide="false"
>
  <div class="toast-header">
    <button
      type="button"
      class="btn-close ms-auto"
      data-bs-dismiss="toast"
      aria-label="Close"
    ></button>
  </div>
  <div class="toast-body text-center pt-0">
    <p class="px-2 mb-3">A new version of content is available.</p>
    <button type="button" class="btn btn-primary" aria-label="Update">
      Update
    </button>
  </div>
</aside>

    

    <!-- Embedded scripts -->

    

    <!--
  Jekyll Simple Search loader
  See: <https://github.com/christian-fei/Simple-Jekyll-Search>
-->





<script>
  
  document.addEventListener('DOMContentLoaded', () => {
    SimpleJekyllSearch({
      searchInput: document.getElementById('search-input'),
      resultsContainer: document.getElementById('search-results'),
      json: '/github-discussions/assets/js/data/search.json',
      searchResultTemplate: '  <article class="px-1 px-sm-2 px-lg-4 px-xl-0">    <header>      <h2><a href="{url}">{title}</a></h2>      <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">        {categories}        {tags}      </div>    </header>    <p>{snippet}</p>  </article>',
      noResultsText: '<p class="mt-5">Oops! No results found.</p>',
      templateMiddleware: function(prop, value, template) {
        if (prop === 'categories') {
          if (value === '') {
            return `${value}`;
          } else {
            return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`;
          }
        }

        if (prop === 'tags') {
          if (value === '') {
            return `${value}`;
          } else {
            return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`;
          }
        }
      }
    });
  });
</script>

  </body>
</html>

